{"is_source_file": true, "format": "Python", "description": "This Python source file defines REST API routes using Flask for managing appointments, including listing, creating, and deleting appointments, with JWT-based authentication.", "external_files": ["../models", "../schemas"], "external_methods": ["jwt_required", "get_jwt_identity", "abort", "db.session.add", "db.session.commit", "db.session.delete", "Appointment.query.filter_by", "Appointment.query.get", "Timeslot.query.get"], "published": ["blp"], "classes": [{"name": "AppointmentList", "description": "Handles GET requests to list all appointments for the logged-in user."}, {"name": "AppointmentCreate", "description": "Handles POST requests to create a new appointment."}, {"name": "AppointmentDelete", "description": "Handles DELETE requests to cancel an existing appointment."}], "methods": [{"name": "get(self)", "description": "Retrieves all appointments for the logged-in user.", "scope": "AppointmentList", "scopeKind": "class"}, {"name": "post(self, data)", "description": "Creates a new appointment after verifying timeslot availability.", "scope": "AppointmentCreate", "scopeKind": "class"}, {"name": "delete(self, appointment_id)", "description": "Deletes an appointment if it exists and belongs to the user, and cancels past appointments.", "scope": "AppointmentDelete", "scopeKind": "class"}], "calls": ["get_jwt_identity()", "abort()", "Appointment.query.filter_by()", "Appointment.query.get()", "Timeslot.query.get()", "db.session.add()", "db.session.commit()", "db.session.delete()"], "search-terms": ["appointments", "AppointmentList", "AppointmentCreate", "AppointmentDelete", "booking_backend", "routes"], "state": 2, "file_id": 11, "knowledge_revision": 28, "git_revision": "4e658352f729d8c390680c60ffebd9a2601e1b80", "revision_history": [{"25": ""}, {"28": "4e658352f729d8c390680c60ffebd9a2601e1b80"}], "ctags": [{"_type": "tag", "name": "AppointmentCreate", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/appointments.py", "pattern": "/^class AppointmentCreate(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "AppointmentDelete", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/appointments.py", "pattern": "/^class AppointmentDelete(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "AppointmentList", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/appointments.py", "pattern": "/^class AppointmentList(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "blp", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/appointments.py", "pattern": "/^blp = Blueprint(\"Appointments\", \"appointments\", url_prefix=\"\\/appointments\", description=\"Appoin/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "delete", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/appointments.py", "pattern": "/^    def delete(self, appointment_id):$/", "language": "Python", "kind": "member", "signature": "(self, appointment_id)", "scope": "AppointmentDelete", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/appointments.py", "pattern": "/^    def get(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AppointmentList", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/appointments.py", "pattern": "/^    def post(self, data):$/", "language": "Python", "kind": "member", "signature": "(self, data)", "scope": "AppointmentCreate", "scopeKind": "class"}], "hash": "0670002537b4865fd9e5e9566b31d2d9", "format-version": 4, "code-base-name": "booking_backend", "filename": "booking_backend/app/routes/appointments.py", "fields": [{"name": "blp = Blueprint(\"Appointments\", \"appointments\", url_prefix=\"\\/appointments\", description=\"Appoin/", "scope": "", "scopeKind": "", "description": "unavailable"}]}