{"is_source_file": true, "format": "Python", "description": "This file contains Flask route definitions for managing appointments. It includes API endpoints for listing, creating, and deleting appointments, utilizing Flask's MethodView, flask_smorest, and JWT for authentication.", "external_files": ["flask.views", "flask_smorest", "flask_jwt_extended", "..models", "..schemas", "datetime"], "external_methods": ["jwt_required", "get_jwt_identity", "abort", "db.session.add", "db.session.commit", "Appointment.query.filter_by", "Appointment.query.get", "Timeslot.query.get"], "published": ["blp", "AppointmentList", "AppointmentCreate", "AppointmentDelete"], "classes": [{"name": "AppointmentList", "description": "Handles retrieval of all appointments for the logged-in user."}, {"name": "AppointmentCreate", "description": "Handles booking a new appointment for a timeslot, ensuring availability and preventing duplicates."}, {"name": "AppointmentDelete", "description": "Handles cancellation of an existing appointment, ensuring it belongs to the user and isn't in the past."}], "methods": [{"name": "get(self)", "description": "Retrieves all appointments for the authenticated user.", "scope": "AppointmentList", "scopeKind": "class"}, {"name": "post(self, data)", "description": "Creates a new appointment if the timeslot is available.", "scope": "AppointmentCreate", "scopeKind": "class"}, {"name": "delete(self, appointment_id)", "description": "Deletes an appointment if it exists, belongs to the user, and is not past.", "scope": "AppointmentDelete", "scopeKind": "class"}], "calls": ["get_jwt_identity()", "Appointment.query.filter_by()", "Appointment.query.get()", "abort()", "db.session.add()", "db.session.commit()", "Timeslot.query.get()", "Appointment.query.filter_by()", "timeslot.is_past()", "timeslot.available", "appt.timeslot", "db.session.delete()"], "search-terms": ["appointments route", "flask MethodView appointment", "JWT appointment", "appointment booking API", "appointment cancellation", "timeslot availability"], "state": 2, "file_id": 11, "knowledge_revision": 25, "git_revision": "", "ctags": [{"_type": "tag", "name": "AppointmentCreate", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/appointments.py", "pattern": "/^class AppointmentCreate(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "AppointmentDelete", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/appointments.py", "pattern": "/^class AppointmentDelete(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "AppointmentList", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/appointments.py", "pattern": "/^class AppointmentList(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "blp", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/appointments.py", "pattern": "/^blp = Blueprint(\"Appointments\", \"appointments\", url_prefix=\"\\/appointments\", description=\"Appoin/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "delete", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/appointments.py", "pattern": "/^    def delete(self, appointment_id):$/", "language": "Python", "kind": "member", "signature": "(self, appointment_id)", "scope": "AppointmentDelete", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/appointments.py", "pattern": "/^    def get(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AppointmentList", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/appointments.py", "pattern": "/^    def post(self, data):$/", "language": "Python", "kind": "member", "signature": "(self, data)", "scope": "AppointmentCreate", "scopeKind": "class"}], "hash": "45124b1fcd8d9631dede6007235e51ce", "format-version": 4, "code-base-name": "booking_backend", "filename": "booking_backend/app/routes/appointments.py", "fields": [{"name": "blp = Blueprint(\"Appointments\", \"appointments\", url_prefix=\"\\/appointments\", description=\"Appoin/", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"25": ""}]}