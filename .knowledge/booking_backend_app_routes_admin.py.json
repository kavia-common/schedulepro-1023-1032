{"is_source_file": true, "format": "Python", "description": "This file defines admin-related API routes for a scheduling application using Flask. It includes endpoints for fetching admin dashboard stats, listing users, appointments, timeslots, and deleting appointments. The code enforces admin privileges via JWT authentication.", "external_files": ["../models", "../schemas"], "external_methods": ["User.query.count", "Appointment.query.count", "Timeslot.query.count", "Appointment.query.join", "Timeslot.end_time", "Appointment.query.order_by", "User.query.order_by", "Appointment.query.order_by", "Timeslot.query.order_by", "Appointment.query.get", "db.session.delete", "db.session.commit", "abort", "jwt_required", "get_jwt_identity"], "published": ["blp"], "classes": [{"name": "AdminDashboard", "description": "Admin view class for dashboard statistics"}, {"name": "AdminUsers", "description": "Admin view class for listing users"}, {"name": "AdminAppointments", "description": "Admin view class for listing appointments"}, {"name": "AdminTimeslots", "description": "Admin view class for listing timeslots"}, {"name": "AdminDeleteAppointment", "description": "Admin view class for deleting an appointment"}], "methods": [{"name": "get(self)", "description": "Handles GET requests for various admin views, returning counts and lists of entities.", "scope": "AdminUsers", "scopeKind": "class"}, {"name": "delete(self, appointment_id)", "description": "Deletes an appointment by ID, updating the timeslot availability if necessary.", "scope": "AdminDeleteAppointment", "scopeKind": "class"}, {"name": "require_admin()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["User.query.count", "Appointment.query.count", "Timeslot.query.count", "Appointment.query.join", "Timeslot.end_time", "Appointment.query.order_by", "User.query.order_by", "Appointment.query.order_by", "Timeslot.query.order_by", "Appointment.query.get", "db.session.delete", "db.session.commit", "abort", "get_jwt_identity", "require_admin"], "search-terms": ["admin dashboard", "admin routes", "JWT admin authorization", "Flask MethodView admin", "appointment deletion", "admin user list", "admin appointment list", "admin timeslots"], "state": 2, "file_id": 12, "knowledge_revision": 31, "git_revision": "4e658352f729d8c390680c60ffebd9a2601e1b80", "ctags": [{"_type": "tag", "name": "AdminAppointments", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/admin.py", "pattern": "/^class AdminAppointments(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "AdminDashboard", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/admin.py", "pattern": "/^class AdminDashboard(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "AdminDeleteAppointment", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/admin.py", "pattern": "/^class AdminDeleteAppointment(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "AdminTimeslots", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/admin.py", "pattern": "/^class AdminTimeslots(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "AdminUsers", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/admin.py", "pattern": "/^class AdminUsers(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "blp", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/admin.py", "pattern": "/^blp = Blueprint(\"Admin\", \"admin\", url_prefix=\"\\/admin\", description=\"Admin dashboard features\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "delete", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/admin.py", "pattern": "/^    def delete(self, appointment_id):$/", "language": "Python", "kind": "member", "signature": "(self, appointment_id)", "scope": "AdminDeleteAppointment", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/admin.py", "pattern": "/^    def get(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AdminAppointments", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/admin.py", "pattern": "/^    def get(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AdminDashboard", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/admin.py", "pattern": "/^    def get(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AdminTimeslots", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/admin.py", "pattern": "/^    def get(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AdminUsers", "scopeKind": "class"}, {"_type": "tag", "name": "require_admin", "path": "/home/kavia/workspace/code-generation/schedulepro-1023-1032/booking_backend/app/routes/admin.py", "pattern": "/^def require_admin():$/", "language": "Python", "kind": "function", "signature": "()"}], "hash": "056d29c75bd9bd5d310456f9d7f1e2c5", "format-version": 4, "code-base-name": "booking_backend", "filename": "booking_backend/app/routes/admin.py", "fields": [{"name": "blp = Blueprint(\"Admin\", \"admin\", url_prefix=\"\\/admin\", description=\"Admin dashboard features\")", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"31": "4e658352f729d8c390680c60ffebd9a2601e1b80"}]}